<!DOCTYPE html>
<html>
	
	<head>
		<meta charset="UTF-8">
		<title>InCommon</title>
	</head>
	
	<body>
	 	<h1 id="load-here">Investment Mapper</h1>
		 	
		<form action="/common-investments">
			<div>
				<input class="typeahead" name="vc1" type="text" placeholder="VC">
			</div>
			<div>
				<input class="typeahead" name="vc2" type="text" placeholder="VC">
			</div>
			<button id="submit-vc-button">Find Common Investments</button>
		</form>	

		<!-- Load jQuery and the typeahead JS files -->
		<script src="/static/jquery.js"></script>
		<script src="/static/typeahead.bundle.js"></script>
	 
		<!-- Handles the typeahead capability -->
	 	<script>
		var vcs = new Bloodhound({
			datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
			queryTokenizer: Bloodhound.tokenizers.whitespace,
			limit: 20,
			prefetch: {
				// url points to a json file that contains an array of vc names
				url: '/static/vc_list.json',
				// the json file contains an array of strings, but the Bloodhound suggestion engine expects JavaScript objects so this converts all of those strings
				filter: function(list) {
	  			return $.map(list, function(vc) { return { name: vc }; });
				}
			}
		});
	 
		// kicks off the loading/processing of `local` and `prefetch`
		vcs.initialize();
	 
		// passing in `null` for the `options` arguments will result in the default
		// options being used
		$('.typeahead').typeahead(null, {
		  name: 'vcs',
		  displayKey: 'name',
		  // `ttAdapter` wraps the suggestion engine in an adapter that
		  // is compatible with the typeahead jQuery plugin
		  source: vcs.ttAdapter()
		});

		// $('#submit-vc-button').click(function(evt){
		// 	alert("hi");
		// 	$('#common-investments-list').load('/common-investments')
		// 	$.get(
		// 		"/common-investments",
		// 		function(results){
		// 			console.log(results),
		// 			$('#common-investments-list').html("List goes here.")
		// 		});
		// });
		</script>


 </body>
</html>